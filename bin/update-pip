#!/bin/sh
set -euf

# Helpers https://github.com/sixarm/unix-shell-script-kit
. "$(dirname "$(readlink -f "$0")")/unix-shell-script-kit"

# pip: Python package installer
for python in "python" "python3"; do
    if command_exists "$python"; then    
        $python -m pip install --upgrade pip
        $python -m pip install --upgrade setuptools
    fi
done
for pip in "pip" "pip3"; do
    if command_exists "$pip"; then    
        $pip install --upgrade pip
        $pip install --upgrade setuptools
        $pip freeze --local | sed -n 's/==.*//p' | xargs -n1 -I{} $pip install --upgrade "{}"
    fi
done
